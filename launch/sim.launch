<?xml version="1.0" encoding="UTF-8"?> 
<!-- Simulated Hex+delta arm -->
<launch>
  <arg name="viz" default = "true"/>
  
  <param name="model_name" value="Hex_delta"/>
  
  <rosparam file="$(find tricopter)/cfg/print_config.yaml" />
  <rosparam file="$(find tricopter)/cfg/cylinder_points.yaml" />
  
  <node pkg="joy" type="joy_node" name="joystick_node" />

  <node pkg="tf2_ros" type="static_transform_publisher" name="transform_map2print" args="0 0 0.4 1.570796 0 1.570796 map printing_plane" />

  <node pkg="tf2_ros" type="static_transform_publisher" name="transform_map2caminit" args="0 0 0 0 0 0 map camera_init" />
  <include file="$(find tricopter)/launch/static_transforms.launch"/>

  <include file="$(find tricopter)/launch/spawn_gazebo.launch"/>

  <!-- <include file="$(find tricopter)/launch/geometric_controller.launch"/> -->

  <include file="$(find delta_2)/launch/stabilise.launch">
    <arg name="sim" value="true"/>
  </include>

  <!-- <node name="trajectory_services" pkg="tricopter" type="trajectory_services.py" required="true" output="screen"/> 
  <node name="print_manager" pkg="tricopter" type="print_manager.py" required="true" output="screen"/>   -->
  
  <node name="manual_control" pkg="tricopter" type="manual_setpoints.py" required="true" output="screen"/>

  <group if="$(arg viz)">
    <node type="rviz" name="rviz" pkg="rviz" args="-d $(find tricopter)/rviz/printing.rviz"/>
  </group>
</launch>